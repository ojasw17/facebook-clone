{"ast":null,"code":"'use strict';\n\nvar Progress = require('are-we-there-yet');\n\nvar Gauge = require('gauge');\n\nvar EE = require('events').EventEmitter;\n\nvar log = exports = module.exports = new EE();\n\nvar util = require('util');\n\nvar setBlocking = require('set-blocking');\n\nvar consoleControl = require('console-control-strings');\n\nsetBlocking(true);\nvar stream = process.stderr;\nObject.defineProperty(log, 'stream', {\n  set: function (newStream) {\n    stream = newStream;\n\n    if (this.gauge) {\n      this.gauge.setWriteTo(stream, stream);\n    }\n  },\n  get: function () {\n    return stream;\n  }\n}); // by default, decide based on tty-ness.\n\nvar colorEnabled;\n\nlog.useColor = function () {\n  return colorEnabled != null ? colorEnabled : stream.isTTY;\n};\n\nlog.enableColor = function () {\n  colorEnabled = true;\n  this.gauge.setTheme({\n    hasColor: colorEnabled,\n    hasUnicode: unicodeEnabled\n  });\n};\n\nlog.disableColor = function () {\n  colorEnabled = false;\n  this.gauge.setTheme({\n    hasColor: colorEnabled,\n    hasUnicode: unicodeEnabled\n  });\n}; // default level\n\n\nlog.level = 'info';\nlog.gauge = new Gauge(stream, {\n  enabled: false,\n  // no progress bars unless asked\n  theme: {\n    hasColor: log.useColor()\n  },\n  template: [{\n    type: 'progressbar',\n    length: 20\n  }, {\n    type: 'activityIndicator',\n    kerning: 1,\n    length: 1\n  }, {\n    type: 'section',\n    default: ''\n  }, ':', {\n    type: 'logline',\n    kerning: 1,\n    default: ''\n  }]\n});\nlog.tracker = new Progress.TrackerGroup(); // we track this separately as we may need to temporarily disable the\n// display of the status bar for our own loggy purposes.\n\nlog.progressEnabled = log.gauge.isEnabled();\nvar unicodeEnabled;\n\nlog.enableUnicode = function () {\n  unicodeEnabled = true;\n  this.gauge.setTheme({\n    hasColor: this.useColor(),\n    hasUnicode: unicodeEnabled\n  });\n};\n\nlog.disableUnicode = function () {\n  unicodeEnabled = false;\n  this.gauge.setTheme({\n    hasColor: this.useColor(),\n    hasUnicode: unicodeEnabled\n  });\n};\n\nlog.setGaugeThemeset = function (themes) {\n  this.gauge.setThemeset(themes);\n};\n\nlog.setGaugeTemplate = function (template) {\n  this.gauge.setTemplate(template);\n};\n\nlog.enableProgress = function () {\n  if (this.progressEnabled) {\n    return;\n  }\n\n  this.progressEnabled = true;\n  this.tracker.on('change', this.showProgress);\n\n  if (this._paused) {\n    return;\n  }\n\n  this.gauge.enable();\n};\n\nlog.disableProgress = function () {\n  if (!this.progressEnabled) {\n    return;\n  }\n\n  this.progressEnabled = false;\n  this.tracker.removeListener('change', this.showProgress);\n  this.gauge.disable();\n};\n\nvar trackerConstructors = ['newGroup', 'newItem', 'newStream'];\n\nvar mixinLog = function (tracker) {\n  // mixin the public methods from log into the tracker\n  // (except: conflicts and one's we handle specially)\n  Object.keys(log).forEach(function (P) {\n    if (P[0] === '_') {\n      return;\n    }\n\n    if (trackerConstructors.filter(function (C) {\n      return C === P;\n    }).length) {\n      return;\n    }\n\n    if (tracker[P]) {\n      return;\n    }\n\n    if (typeof log[P] !== 'function') {\n      return;\n    }\n\n    var func = log[P];\n\n    tracker[P] = function () {\n      return func.apply(log, arguments);\n    };\n  }); // if the new tracker is a group, make sure any subtrackers get\n  // mixed in too\n\n  if (tracker instanceof Progress.TrackerGroup) {\n    trackerConstructors.forEach(function (C) {\n      var func = tracker[C];\n\n      tracker[C] = function () {\n        return mixinLog(func.apply(tracker, arguments));\n      };\n    });\n  }\n\n  return tracker;\n}; // Add tracker constructors to the top level log object\n\n\ntrackerConstructors.forEach(function (C) {\n  log[C] = function () {\n    return mixinLog(this.tracker[C].apply(this.tracker, arguments));\n  };\n});\n\nlog.clearProgress = function (cb) {\n  if (!this.progressEnabled) {\n    return cb && process.nextTick(cb);\n  }\n\n  this.gauge.hide(cb);\n};\n\nlog.showProgress = function (name, completed) {\n  if (!this.progressEnabled) {\n    return;\n  }\n\n  var values = {};\n\n  if (name) {\n    values.section = name;\n  }\n\n  var last = log.record[log.record.length - 1];\n\n  if (last) {\n    values.subsection = last.prefix;\n    var disp = log.disp[last.level] || last.level;\n\n    var logline = this._format(disp, log.style[last.level]);\n\n    if (last.prefix) {\n      logline += ' ' + this._format(last.prefix, this.prefixStyle);\n    }\n\n    logline += ' ' + last.message.split(/\\r?\\n/)[0];\n    values.logline = logline;\n  }\n\n  values.completed = completed || this.tracker.completed();\n  this.gauge.show(values);\n}.bind(log); // bind for use in tracker's on-change listener\n// temporarily stop emitting, but don't drop\n\n\nlog.pause = function () {\n  this._paused = true;\n\n  if (this.progressEnabled) {\n    this.gauge.disable();\n  }\n};\n\nlog.resume = function () {\n  if (!this._paused) {\n    return;\n  }\n\n  this._paused = false;\n  var b = this._buffer;\n  this._buffer = [];\n  b.forEach(function (m) {\n    this.emitLog(m);\n  }, this);\n\n  if (this.progressEnabled) {\n    this.gauge.enable();\n  }\n};\n\nlog._buffer = [];\nvar id = 0;\nlog.record = [];\nlog.maxRecordSize = 10000;\n\nlog.log = function (lvl, prefix, message) {\n  var l = this.levels[lvl];\n\n  if (l === undefined) {\n    return this.emit('error', new Error(util.format('Undefined log level: %j', lvl)));\n  }\n\n  var a = new Array(arguments.length - 2);\n  var stack = null;\n\n  for (var i = 2; i < arguments.length; i++) {\n    var arg = a[i - 2] = arguments[i]; // resolve stack traces to a plain string.\n\n    if (typeof arg === 'object' && arg instanceof Error && arg.stack) {\n      Object.defineProperty(arg, 'stack', {\n        value: stack = arg.stack + '',\n        enumerable: true,\n        writable: true\n      });\n    }\n  }\n\n  if (stack) {\n    a.unshift(stack + '\\n');\n  }\n\n  message = util.format.apply(util, a);\n  var m = {\n    id: id++,\n    level: lvl,\n    prefix: String(prefix || ''),\n    message: message,\n    messageRaw: a\n  };\n  this.emit('log', m);\n  this.emit('log.' + lvl, m);\n\n  if (m.prefix) {\n    this.emit(m.prefix, m);\n  }\n\n  this.record.push(m);\n  var mrs = this.maxRecordSize;\n  var n = this.record.length - mrs;\n\n  if (n > mrs / 10) {\n    var newSize = Math.floor(mrs * 0.9);\n    this.record = this.record.slice(-1 * newSize);\n  }\n\n  this.emitLog(m);\n}.bind(log);\n\nlog.emitLog = function (m) {\n  if (this._paused) {\n    this._buffer.push(m);\n\n    return;\n  }\n\n  if (this.progressEnabled) {\n    this.gauge.pulse(m.prefix);\n  }\n\n  var l = this.levels[m.level];\n\n  if (l === undefined) {\n    return;\n  }\n\n  if (l < this.levels[this.level]) {\n    return;\n  }\n\n  if (l > 0 && !isFinite(l)) {\n    return;\n  } // If 'disp' is null or undefined, use the lvl as a default\n  // Allows: '', 0 as valid disp\n\n\n  var disp = log.disp[m.level] != null ? log.disp[m.level] : m.level;\n  this.clearProgress();\n  m.message.split(/\\r?\\n/).forEach(function (line) {\n    if (this.heading) {\n      this.write(this.heading, this.headingStyle);\n      this.write(' ');\n    }\n\n    this.write(disp, log.style[m.level]);\n    var p = m.prefix || '';\n\n    if (p) {\n      this.write(' ');\n    }\n\n    this.write(p, this.prefixStyle);\n    this.write(' ' + line + '\\n');\n  }, this);\n  this.showProgress();\n};\n\nlog._format = function (msg, style) {\n  if (!stream) {\n    return;\n  }\n\n  var output = '';\n\n  if (this.useColor()) {\n    style = style || {};\n    var settings = [];\n\n    if (style.fg) {\n      settings.push(style.fg);\n    }\n\n    if (style.bg) {\n      settings.push('bg' + style.bg[0].toUpperCase() + style.bg.slice(1));\n    }\n\n    if (style.bold) {\n      settings.push('bold');\n    }\n\n    if (style.underline) {\n      settings.push('underline');\n    }\n\n    if (style.inverse) {\n      settings.push('inverse');\n    }\n\n    if (settings.length) {\n      output += consoleControl.color(settings);\n    }\n\n    if (style.beep) {\n      output += consoleControl.beep();\n    }\n  }\n\n  output += msg;\n\n  if (this.useColor()) {\n    output += consoleControl.color('reset');\n  }\n\n  return output;\n};\n\nlog.write = function (msg, style) {\n  if (!stream) {\n    return;\n  }\n\n  stream.write(this._format(msg, style));\n};\n\nlog.addLevel = function (lvl, n, style, disp) {\n  // If 'disp' is null or undefined, use the lvl as a default\n  if (disp == null) {\n    disp = lvl;\n  }\n\n  this.levels[lvl] = n;\n  this.style[lvl] = style;\n\n  if (!this[lvl]) {\n    this[lvl] = function () {\n      var a = new Array(arguments.length + 1);\n      a[0] = lvl;\n\n      for (var i = 0; i < arguments.length; i++) {\n        a[i + 1] = arguments[i];\n      }\n\n      return this.log.apply(this, a);\n    }.bind(this);\n  }\n\n  this.disp[lvl] = disp;\n};\n\nlog.prefixStyle = {\n  fg: 'magenta'\n};\nlog.headingStyle = {\n  fg: 'white',\n  bg: 'black'\n};\nlog.style = {};\nlog.levels = {};\nlog.disp = {};\nlog.addLevel('silly', -Infinity, {\n  inverse: true\n}, 'sill');\nlog.addLevel('verbose', 1000, {\n  fg: 'blue',\n  bg: 'black'\n}, 'verb');\nlog.addLevel('info', 2000, {\n  fg: 'green'\n});\nlog.addLevel('timing', 2500, {\n  fg: 'green',\n  bg: 'black'\n});\nlog.addLevel('http', 3000, {\n  fg: 'green',\n  bg: 'black'\n});\nlog.addLevel('notice', 3500, {\n  fg: 'blue',\n  bg: 'black'\n});\nlog.addLevel('warn', 4000, {\n  fg: 'black',\n  bg: 'yellow'\n}, 'WARN');\nlog.addLevel('error', 5000, {\n  fg: 'red',\n  bg: 'black'\n}, 'ERR!');\nlog.addLevel('silent', Infinity); // allow 'error' prefix\n\nlog.on('error', function () {});","map":{"version":3,"sources":["C:/Users/ojaswi/Social - Media web app/frontend-react-app/node_modules/npmlog/lib/log.js"],"names":["Progress","require","Gauge","EE","EventEmitter","log","exports","module","util","setBlocking","consoleControl","stream","process","stderr","Object","defineProperty","set","newStream","gauge","setWriteTo","get","colorEnabled","useColor","isTTY","enableColor","setTheme","hasColor","hasUnicode","unicodeEnabled","disableColor","level","enabled","theme","template","type","length","kerning","default","tracker","TrackerGroup","progressEnabled","isEnabled","enableUnicode","disableUnicode","setGaugeThemeset","themes","setThemeset","setGaugeTemplate","setTemplate","enableProgress","on","showProgress","_paused","enable","disableProgress","removeListener","disable","trackerConstructors","mixinLog","keys","forEach","P","filter","C","func","apply","arguments","clearProgress","cb","nextTick","hide","name","completed","values","section","last","record","subsection","prefix","disp","logline","_format","style","prefixStyle","message","split","show","bind","pause","resume","b","_buffer","m","emitLog","id","maxRecordSize","lvl","l","levels","undefined","emit","Error","format","a","Array","stack","i","arg","value","enumerable","writable","unshift","String","messageRaw","push","mrs","n","newSize","Math","floor","slice","pulse","isFinite","line","heading","write","headingStyle","p","msg","output","settings","fg","bg","toUpperCase","bold","underline","inverse","color","beep","addLevel","Infinity"],"mappings":"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","sourcesContent":["'use strict'\nvar Progress = require('are-we-there-yet')\nvar Gauge = require('gauge')\nvar EE = require('events').EventEmitter\nvar log = exports = module.exports = new EE()\nvar util = require('util')\n\nvar setBlocking = require('set-blocking')\nvar consoleControl = require('console-control-strings')\n\nsetBlocking(true)\nvar stream = process.stderr\nObject.defineProperty(log, 'stream', {\n  set: function (newStream) {\n    stream = newStream\n    if (this.gauge) {\n      this.gauge.setWriteTo(stream, stream)\n    }\n  },\n  get: function () {\n    return stream\n  },\n})\n\n// by default, decide based on tty-ness.\nvar colorEnabled\nlog.useColor = function () {\n  return colorEnabled != null ? colorEnabled : stream.isTTY\n}\n\nlog.enableColor = function () {\n  colorEnabled = true\n  this.gauge.setTheme({ hasColor: colorEnabled, hasUnicode: unicodeEnabled })\n}\nlog.disableColor = function () {\n  colorEnabled = false\n  this.gauge.setTheme({ hasColor: colorEnabled, hasUnicode: unicodeEnabled })\n}\n\n// default level\nlog.level = 'info'\n\nlog.gauge = new Gauge(stream, {\n  enabled: false, // no progress bars unless asked\n  theme: { hasColor: log.useColor() },\n  template: [\n    { type: 'progressbar', length: 20 },\n    { type: 'activityIndicator', kerning: 1, length: 1 },\n    { type: 'section', default: '' },\n    ':',\n    { type: 'logline', kerning: 1, default: '' },\n  ],\n})\n\nlog.tracker = new Progress.TrackerGroup()\n\n// we track this separately as we may need to temporarily disable the\n// display of the status bar for our own loggy purposes.\nlog.progressEnabled = log.gauge.isEnabled()\n\nvar unicodeEnabled\n\nlog.enableUnicode = function () {\n  unicodeEnabled = true\n  this.gauge.setTheme({ hasColor: this.useColor(), hasUnicode: unicodeEnabled })\n}\n\nlog.disableUnicode = function () {\n  unicodeEnabled = false\n  this.gauge.setTheme({ hasColor: this.useColor(), hasUnicode: unicodeEnabled })\n}\n\nlog.setGaugeThemeset = function (themes) {\n  this.gauge.setThemeset(themes)\n}\n\nlog.setGaugeTemplate = function (template) {\n  this.gauge.setTemplate(template)\n}\n\nlog.enableProgress = function () {\n  if (this.progressEnabled) {\n    return\n  }\n\n  this.progressEnabled = true\n  this.tracker.on('change', this.showProgress)\n  if (this._paused) {\n    return\n  }\n\n  this.gauge.enable()\n}\n\nlog.disableProgress = function () {\n  if (!this.progressEnabled) {\n    return\n  }\n  this.progressEnabled = false\n  this.tracker.removeListener('change', this.showProgress)\n  this.gauge.disable()\n}\n\nvar trackerConstructors = ['newGroup', 'newItem', 'newStream']\n\nvar mixinLog = function (tracker) {\n  // mixin the public methods from log into the tracker\n  // (except: conflicts and one's we handle specially)\n  Object.keys(log).forEach(function (P) {\n    if (P[0] === '_') {\n      return\n    }\n\n    if (trackerConstructors.filter(function (C) {\n      return C === P\n    }).length) {\n      return\n    }\n\n    if (tracker[P]) {\n      return\n    }\n\n    if (typeof log[P] !== 'function') {\n      return\n    }\n\n    var func = log[P]\n    tracker[P] = function () {\n      return func.apply(log, arguments)\n    }\n  })\n  // if the new tracker is a group, make sure any subtrackers get\n  // mixed in too\n  if (tracker instanceof Progress.TrackerGroup) {\n    trackerConstructors.forEach(function (C) {\n      var func = tracker[C]\n      tracker[C] = function () {\n        return mixinLog(func.apply(tracker, arguments))\n      }\n    })\n  }\n  return tracker\n}\n\n// Add tracker constructors to the top level log object\ntrackerConstructors.forEach(function (C) {\n  log[C] = function () {\n    return mixinLog(this.tracker[C].apply(this.tracker, arguments))\n  }\n})\n\nlog.clearProgress = function (cb) {\n  if (!this.progressEnabled) {\n    return cb && process.nextTick(cb)\n  }\n\n  this.gauge.hide(cb)\n}\n\nlog.showProgress = function (name, completed) {\n  if (!this.progressEnabled) {\n    return\n  }\n\n  var values = {}\n  if (name) {\n    values.section = name\n  }\n\n  var last = log.record[log.record.length - 1]\n  if (last) {\n    values.subsection = last.prefix\n    var disp = log.disp[last.level] || last.level\n    var logline = this._format(disp, log.style[last.level])\n    if (last.prefix) {\n      logline += ' ' + this._format(last.prefix, this.prefixStyle)\n    }\n\n    logline += ' ' + last.message.split(/\\r?\\n/)[0]\n    values.logline = logline\n  }\n  values.completed = completed || this.tracker.completed()\n  this.gauge.show(values)\n}.bind(log) // bind for use in tracker's on-change listener\n\n// temporarily stop emitting, but don't drop\nlog.pause = function () {\n  this._paused = true\n  if (this.progressEnabled) {\n    this.gauge.disable()\n  }\n}\n\nlog.resume = function () {\n  if (!this._paused) {\n    return\n  }\n\n  this._paused = false\n\n  var b = this._buffer\n  this._buffer = []\n  b.forEach(function (m) {\n    this.emitLog(m)\n  }, this)\n  if (this.progressEnabled) {\n    this.gauge.enable()\n  }\n}\n\nlog._buffer = []\n\nvar id = 0\nlog.record = []\nlog.maxRecordSize = 10000\nlog.log = function (lvl, prefix, message) {\n  var l = this.levels[lvl]\n  if (l === undefined) {\n    return this.emit('error', new Error(util.format(\n      'Undefined log level: %j', lvl)))\n  }\n\n  var a = new Array(arguments.length - 2)\n  var stack = null\n  for (var i = 2; i < arguments.length; i++) {\n    var arg = a[i - 2] = arguments[i]\n\n    // resolve stack traces to a plain string.\n    if (typeof arg === 'object' && arg instanceof Error && arg.stack) {\n      Object.defineProperty(arg, 'stack', {\n        value: stack = arg.stack + '',\n        enumerable: true,\n        writable: true,\n      })\n    }\n  }\n  if (stack) {\n    a.unshift(stack + '\\n')\n  }\n  message = util.format.apply(util, a)\n\n  var m = {\n    id: id++,\n    level: lvl,\n    prefix: String(prefix || ''),\n    message: message,\n    messageRaw: a,\n  }\n\n  this.emit('log', m)\n  this.emit('log.' + lvl, m)\n  if (m.prefix) {\n    this.emit(m.prefix, m)\n  }\n\n  this.record.push(m)\n  var mrs = this.maxRecordSize\n  var n = this.record.length - mrs\n  if (n > mrs / 10) {\n    var newSize = Math.floor(mrs * 0.9)\n    this.record = this.record.slice(-1 * newSize)\n  }\n\n  this.emitLog(m)\n}.bind(log)\n\nlog.emitLog = function (m) {\n  if (this._paused) {\n    this._buffer.push(m)\n    return\n  }\n  if (this.progressEnabled) {\n    this.gauge.pulse(m.prefix)\n  }\n\n  var l = this.levels[m.level]\n  if (l === undefined) {\n    return\n  }\n\n  if (l < this.levels[this.level]) {\n    return\n  }\n\n  if (l > 0 && !isFinite(l)) {\n    return\n  }\n\n  // If 'disp' is null or undefined, use the lvl as a default\n  // Allows: '', 0 as valid disp\n  var disp = log.disp[m.level] != null ? log.disp[m.level] : m.level\n  this.clearProgress()\n  m.message.split(/\\r?\\n/).forEach(function (line) {\n    if (this.heading) {\n      this.write(this.heading, this.headingStyle)\n      this.write(' ')\n    }\n    this.write(disp, log.style[m.level])\n    var p = m.prefix || ''\n    if (p) {\n      this.write(' ')\n    }\n\n    this.write(p, this.prefixStyle)\n    this.write(' ' + line + '\\n')\n  }, this)\n  this.showProgress()\n}\n\nlog._format = function (msg, style) {\n  if (!stream) {\n    return\n  }\n\n  var output = ''\n  if (this.useColor()) {\n    style = style || {}\n    var settings = []\n    if (style.fg) {\n      settings.push(style.fg)\n    }\n\n    if (style.bg) {\n      settings.push('bg' + style.bg[0].toUpperCase() + style.bg.slice(1))\n    }\n\n    if (style.bold) {\n      settings.push('bold')\n    }\n\n    if (style.underline) {\n      settings.push('underline')\n    }\n\n    if (style.inverse) {\n      settings.push('inverse')\n    }\n\n    if (settings.length) {\n      output += consoleControl.color(settings)\n    }\n\n    if (style.beep) {\n      output += consoleControl.beep()\n    }\n  }\n  output += msg\n  if (this.useColor()) {\n    output += consoleControl.color('reset')\n  }\n\n  return output\n}\n\nlog.write = function (msg, style) {\n  if (!stream) {\n    return\n  }\n\n  stream.write(this._format(msg, style))\n}\n\nlog.addLevel = function (lvl, n, style, disp) {\n  // If 'disp' is null or undefined, use the lvl as a default\n  if (disp == null) {\n    disp = lvl\n  }\n\n  this.levels[lvl] = n\n  this.style[lvl] = style\n  if (!this[lvl]) {\n    this[lvl] = function () {\n      var a = new Array(arguments.length + 1)\n      a[0] = lvl\n      for (var i = 0; i < arguments.length; i++) {\n        a[i + 1] = arguments[i]\n      }\n\n      return this.log.apply(this, a)\n    }.bind(this)\n  }\n  this.disp[lvl] = disp\n}\n\nlog.prefixStyle = { fg: 'magenta' }\nlog.headingStyle = { fg: 'white', bg: 'black' }\n\nlog.style = {}\nlog.levels = {}\nlog.disp = {}\nlog.addLevel('silly', -Infinity, { inverse: true }, 'sill')\nlog.addLevel('verbose', 1000, { fg: 'blue', bg: 'black' }, 'verb')\nlog.addLevel('info', 2000, { fg: 'green' })\nlog.addLevel('timing', 2500, { fg: 'green', bg: 'black' })\nlog.addLevel('http', 3000, { fg: 'green', bg: 'black' })\nlog.addLevel('notice', 3500, { fg: 'blue', bg: 'black' })\nlog.addLevel('warn', 4000, { fg: 'black', bg: 'yellow' }, 'WARN')\nlog.addLevel('error', 5000, { fg: 'red', bg: 'black' }, 'ERR!')\nlog.addLevel('silent', Infinity)\n\n// allow 'error' prefix\nlog.on('error', function () {})\n"]},"metadata":{},"sourceType":"script"}